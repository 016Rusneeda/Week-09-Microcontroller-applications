digraph ESP32_GPIO_Constraints {
    // Graph settings
    rankdir=TB;
    bgcolor="white";
    node [fontname="Arial", fontsize=9];
    edge [fontname="Arial", fontsize=8];
    
    // Title
    label="ESP32 GPIO Pin Constraints & Recommendations";
    labelloc="t";
    fontsize=14;
    fontname="Arial Bold";
    
    // Safe GPIO pins
    subgraph cluster_safe {
        label="‚úÖ Safe GPIO Pins (‡πÄ‡∏™‡∏£‡∏µ ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á)";
        style=filled;
        fillcolor="#E8F5E8";
        fontsize=11;
        fontname="Arial Bold";
        
        safe_pins [label=<
            <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
                <TR><TD BGCOLOR="#C8E6C9"><B>GPIO: 1, 3, 4, 16, 17, 18, 19</B></TD></TR>
                <TR><TD BGCOLOR="#C8E6C9"><B>GPIO: 21, 22, 23, 25, 26, 27, 32, 33</B></TD></TR>
                <TR><TD>‚Ä¢ Digital I/O</TD></TR>
                <TR><TD>‚Ä¢ PWM Output</TD></TR>
                <TR><TD>‚Ä¢ Communication (UART/SPI/I2C)</TD></TR>
                <TR><TD>‚Ä¢ No Boot Restrictions</TD></TR>
            </TABLE>
        >, shape=plaintext];
    }
    
    // Caution pins (Strapping)
    subgraph cluster_caution {
        label="‚ö†Ô∏è Caution Pins (‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡∏£‡∏∞‡∏ß‡∏±‡∏á Boot Mode)";
        style=filled;
        fillcolor="#FFF3E0";
        fontsize=11;
        fontname="Arial Bold";
        
        strapping_pins [label=<
            <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
                <TR><TD BGCOLOR="#FFE082"><B>Strapping: GPIO 0, 2, 5, 12, 15</B></TD></TR>
                <TR><TD>‚ö†Ô∏è ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠ Boot Mode</TD></TR>
                <TR><TD>‚ö†Ô∏è ‡∏£‡∏∞‡∏ß‡∏±‡∏á Pull-up/down ‡∏ï‡∏≠‡∏ô Boot</TD></TR>
                <TR><TD>‚úÖ ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á Boot</TD></TR>
                <TR><TD>üìå GPIO0: Boot/Download Mode</TD></TR>
                <TR><TD>üìå GPIO12: Flash Voltage Select</TD></TR>
            </TABLE>
        >, shape=plaintext];
    }
    
    // Input-only pins
    subgraph cluster_input {
        label="üîí Input-Only Pins (‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)";
        style=filled;
        fillcolor="#E3F2FD";
        fontsize=11;
        fontname="Arial Bold";
        
        input_pins [label=<
            <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
                <TR><TD BGCOLOR="#B3E5FC"><B>GPIO: 34, 35, 36, 37, 38, 39</B></TD></TR>
                <TR><TD>‚úÖ ADC Input (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</TD></TR>
                <TR><TD>‚úÖ Digital Input</TD></TR>
                <TR><TD>‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Output ‡πÑ‡∏î‡πâ</TD></TR>
                <TR><TD>üí° ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Sensors</TD></TR>
            </TABLE>
        >, shape=plaintext];
    }
    
    // Flash pins (Forbidden)
    subgraph cluster_forbidden {
        label="üö´ Forbidden Pins (‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î!)";
        style=filled;
        fillcolor="#FFEBEE";
        fontsize=11;
        fontname="Arial Bold";
        
        flash_pins [label=<
            <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0">
                <TR><TD BGCOLOR="#FFCDD2"><B>Flash: GPIO 6, 7, 8, 9, 10, 11</B></TD></TR>
                <TR><TD>üîó ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ SPI Flash IC</TD></TR>
                <TR><TD>‚ö° ‡∏°‡∏µ SPI Signal ‡∏ß‡∏¥‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà</TD></TR>
                <TR><TD>üí• ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ ESP32 ‡∏û‡∏±‡∏á/Brick</TD></TR>
                <TR><TD>üö´ ‡∏≠‡∏¢‡πà‡∏≤‡πÅ‡∏ï‡∏∞‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î!</TD></TR>
            </TABLE>
        >, shape=plaintext];
    }
    
    // Examples
    examples [label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" BGCOLOR="#F5F5F5">
            <TR><TD COLSPAN="2"><B>üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</B></TD></TR>
            <TR><TD><B>LED Control</B></TD><TD>GPIO 2, 16, 17 (Safe)</TD></TR>
            <TR><TD><B>Button Input</B></TD><TD>GPIO 0 (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ pull-up)</TD></TR>
            <TR><TD><B>Sensor ADC</B></TD><TD>GPIO 34-39 (Input-only)</TD></TR>
            <TR><TD><B>UART Communication</B></TD><TD>GPIO 16, 17 (Safe)</TD></TR>
            <TR><TD><B>PWM Motor</B></TD><TD>GPIO 18, 19 (Safe)</TD></TR>
        </TABLE>
    >, shape=plaintext];
    
    // Flow arrows showing relationship
    safe_pins -> examples [style=invis];
    strapping_pins -> examples [style=invis];
    input_pins -> examples [style=invis];
    flash_pins -> examples [style=invis];
    
    // Layout
    {rank=same; safe_pins; strapping_pins}
    {rank=same; input_pins; flash_pins}
    {rank=same; examples}
}
